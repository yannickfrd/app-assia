{% set theme_color = app.request.hasPreviousSession and app.session.get("theme_color") ? app.session.get("theme_color") : "dark" %}

{{ form_start(form, {
    'action': people_group ? path('people_group_new_support', {'id': people_group.id }) 
}) }}

<div class="modal-body">
        {{ form_row(form.service, {
            'attr': {'data-url': path('support_switch_service')}
        }) }}
    <div data-parent-field="service">
        <div id="sub-service-block">{{ form_row(form.subService) }}</div>
        {{ form_row(form.device) }}
        {% if null != people_group and people_group.siSiaoId %}
            <div class="custom-control custom-checkbox custom-checkbox-{{ theme_color }} pl-2 text-dark">
                {{ form_row(form.siSiaoImport) }}
            </div>
        {% endif %}
        {% if nb_supports > 0 %}
            <div class="custom-control custom-checkbox custom-checkbox-{{ theme_color }} pl-2 text-dark">
                {{ form_row(form.cloneSupport) }}
            </div>
        {% endif %}
    </div>
    {{ form_row(form.referent) }}
    {{ form_row(form.status) }}
</div>

{% if null != people_group %}
    <div class="modal-footer d-flex justify-content-between">
        {% block modal_footer %}
        <div class="float-left">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
        </div>
        <div class="float-right">
            <button type="submit" id="js-btn-confirm" class="btn btn-{{ theme_color }}">Cr√©er le nouveau suivi</button>
        </div>
        {% endblock %}
    </div>
{% endif %}

{{ form_row(form._token) }}
{{ form_end(form, {"render_rest": false}) }}